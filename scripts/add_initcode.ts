// registerRating.js
const { ethers } = require("hardhat");

async function main() {
    // Get the signer to send the transactions
    const signer = (await ethers.getSigners())[0];

    // Get an instance of the deployed RatingUpdate contract
    const ratingRegister = await ethers.getContractAt("RatingRegister", "0xE81206EE4d5726C9F2e50A78cFD47CE9E8fd4d9b", signer);

    console.log("Creating the rating contract...");
    const tx = await ratingRegister.registerLogic("Hugarating", "0x608060405273c2679fbd37d54388ce493f1db75320d236e1815e6000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f20ca2425687955822f30d1ac5b10992477298abd6f10e5e14c493025395056d660001b60015534801561008b57600080fd5b5061139c8061009b6000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063374d1452146100675780635d1cf67a146100855780638150864d146100b6578063c640752d146100d4578063df70d77b146100f0578063ec63218d14610120575b600080fd5b61006f610151565b60405161007c9190610747565b60405180910390f35b61009f600480360381019061009a91906108bc565b610157565b6040516100ad92919061095f565b60405180910390f35b6100be610186565b6040516100cb91906109e7565b60405180910390f35b6100ee60048036038101906100e99190610a2e565b6101aa565b005b61010a60048036038101906101059190610a9a565b6101f1565b6040516101179190610b59565b60405180910390f35b61013a60048036038101906101359190610b7b565b610251565b604051610148929190610bbb565b60405180910390f35b60015481565b6000806000838060200190518101906101709190610c68565b9050806000015181602001519250925050915091565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60006101b583610307565b905060006101c283610307565b90506000806101d18484610251565b915091506101df8683610460565b6101e98582610460565b505050505050565b6060600060405180604001604052808573ffffffffffffffffffffffffffffffffffffffff1681526020018481525090506000816040516020016102359190610ce2565b6040516020818303038152906040529050809250505092915050565b600080600083856102629190610d36565b905060006101906020836102769190610d79565b6102809190610e20565b602061028c9190610e8a565b905085818761029b9190610ebe565b11156102b45780866102ad9190610ebe565b95506102d8565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff95505b808511156102f35780856102ec9190610e8a565b94506102f8565b600094505b85859350935050509250929050565b60008060001b600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020540361035c576105dc905061045b565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663a3112a64600260008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546040518263ffffffff1660e01b81526004016103f79190610747565b600060405180830381865afa158015610414573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f8201168201806040525081019061043d9190611118565b9050600080610450836101200151610157565b915091508093505050505b919050565b600061046c83836101f1565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663f17325e7604051806040016040528060015481526020016040518060c001604052808973ffffffffffffffffffffffffffffffffffffffff168152602001600067ffffffffffffffff16815260200160011515815260200161050a30610707565b815260200187815260200160008152508152506040518263ffffffff1660e01b8152600401610539919061129e565b6020604051808303816000875af1158015610558573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061057c91906112c0565b90506000801b600260008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054146106bd5760008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166346926267604051806040016040528060015481526020016040518060400160405280600260008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054815260200160008152508152506040518263ffffffff1660e01b815260040161068a919061134b565b600060405180830381600087803b1580156106a457600080fd5b505af11580156106b8573d6000803e3d6000fd5b505050505b80600260008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555050505050565b600060608273ffffffffffffffffffffffffffffffffffffffff16901b60001b9050919050565b6000819050919050565b6107418161072e565b82525050565b600060208201905061075c6000830184610738565b92915050565b6000604051905090565b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6107c982610780565b810181811067ffffffffffffffff821117156107e8576107e7610791565b5b80604052505050565b60006107fb610762565b905061080782826107c0565b919050565b600067ffffffffffffffff82111561082757610826610791565b5b61083082610780565b9050602081019050919050565b82818337600083830152505050565b600061085f61085a8461080c565b6107f1565b90508281526020810184848401111561087b5761087a61077b565b5b61088684828561083d565b509392505050565b600082601f8301126108a3576108a2610776565b5b81356108b384826020860161084c565b91505092915050565b6000602082840312156108d2576108d161076c565b5b600082013567ffffffffffffffff8111156108f0576108ef610771565b5b6108fc8482850161088e565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061093082610905565b9050919050565b61094081610925565b82525050565b6000819050919050565b61095981610946565b82525050565b60006040820190506109746000830185610937565b6109816020830184610950565b9392505050565b6000819050919050565b60006109ad6109a86109a384610905565b610988565b610905565b9050919050565b60006109bf82610992565b9050919050565b60006109d1826109b4565b9050919050565b6109e1816109c6565b82525050565b60006020820190506109fc60008301846109d8565b92915050565b610a0b81610925565b8114610a1657600080fd5b50565b600081359050610a2881610a02565b92915050565b60008060408385031215610a4557610a4461076c565b5b6000610a5385828601610a19565b9250506020610a6485828601610a19565b9150509250929050565b610a7781610946565b8114610a8257600080fd5b50565b600081359050610a9481610a6e565b92915050565b60008060408385031215610ab157610ab061076c565b5b6000610abf85828601610a19565b9250506020610ad085828601610a85565b9150509250929050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610b14578082015181840152602081019050610af9565b60008484015250505050565b6000610b2b82610ada565b610b358185610ae5565b9350610b45818560208601610af6565b610b4e81610780565b840191505092915050565b60006020820190508181036000830152610b738184610b20565b905092915050565b60008060408385031215610b9257610b9161076c565b5b6000610ba085828601610a85565b9250506020610bb185828601610a85565b9150509250929050565b6000604082019050610bd06000830185610950565b610bdd6020830184610950565b9392505050565b600080fd5b600080fd5b600081519050610bfd81610a02565b92915050565b600081519050610c1281610a6e565b92915050565b600060408284031215610c2e57610c2d610be4565b5b610c3860406107f1565b90506000610c4884828501610bee565b6000830152506020610c5c84828501610c03565b60208301525092915050565b600060408284031215610c7e57610c7d61076c565b5b6000610c8c84828501610c18565b91505092915050565b610c9e81610925565b82525050565b610cad81610946565b82525050565b604082016000820151610cc96000850182610c95565b506020820151610cdc6020850182610ca4565b50505050565b6000604082019050610cf76000830184610cb3565b92915050565b6000819050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610d4182610cfd565b9150610d4c83610cfd565b9250828203905081811260008412168282136000851215161715610d7357610d72610d07565b5b92915050565b6000610d8482610cfd565b9150610d8f83610cfd565b9250828202610d9d81610cfd565b91507f80000000000000000000000000000000000000000000000000000000000000008414600084121615610dd557610dd4610d07565b5b8282058414831517610dea57610de9610d07565b5b5092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b6000610e2b82610cfd565b9150610e3683610cfd565b925082610e4657610e45610df1565b5b600160000383147f800000000000000000000000000000000000000000000000000000000000000083141615610e7f57610e7e610d07565b5b828205905092915050565b6000610e9582610946565b9150610ea083610946565b9250828203905081811115610eb857610eb7610d07565b5b92915050565b6000610ec982610946565b9150610ed483610946565b9250828201905080821115610eec57610eeb610d07565b5b92915050565b610efb8161072e565b8114610f0657600080fd5b50565b600081519050610f1881610ef2565b92915050565b600067ffffffffffffffff82169050919050565b610f3b81610f1e565b8114610f4657600080fd5b50565b600081519050610f5881610f32565b92915050565b60008115159050919050565b610f7381610f5e565b8114610f7e57600080fd5b50565b600081519050610f9081610f6a565b92915050565b6000610fa9610fa48461080c565b6107f1565b905082815260208101848484011115610fc557610fc461077b565b5b610fd0848285610af6565b509392505050565b600082601f830112610fed57610fec610776565b5b8151610ffd848260208601610f96565b91505092915050565b6000610140828403121561101d5761101c610be4565b5b6110286101406107f1565b9050600061103884828501610f09565b600083015250602061104c84828501610f09565b602083015250604061106084828501610f49565b604083015250606061107484828501610f49565b606083015250608061108884828501610f49565b60808301525060a061109c84828501610f09565b60a08301525060c06110b084828501610bee565b60c08301525060e06110c484828501610bee565b60e0830152506101006110d984828501610f81565b6101008301525061012082015167ffffffffffffffff8111156110ff576110fe610be9565b5b61110b84828501610fd8565b6101208301525092915050565b60006020828403121561112e5761112d61076c565b5b600082015167ffffffffffffffff81111561114c5761114b610771565b5b61115884828501611006565b91505092915050565b61116a8161072e565b82525050565b61117981610f1e565b82525050565b61118881610f5e565b82525050565b600082825260208201905092915050565b60006111aa82610ada565b6111b4818561118e565b93506111c4818560208601610af6565b6111cd81610780565b840191505092915050565b600060c0830160008301516111f06000860182610c95565b5060208301516112036020860182611170565b506040830151611216604086018261117f565b5060608301516112296060860182611161565b5060808301518482036080860152611241828261119f565b91505060a083015161125660a0860182610ca4565b508091505092915050565b60006040830160008301516112796000860182611161565b506020830151848203602086015261129182826111d8565b9150508091505092915050565b600060208201905081810360008301526112b88184611261565b905092915050565b6000602082840312156112d6576112d561076c565b5b60006112e484828501610f09565b91505092915050565b6040820160008201516113036000850182611161565b5060208201516113166020850182610ca4565b50505050565b6060820160008201516113326000850182611161565b50602082015161134560208501826112ed565b50505050565b6000606082019050611360600083018461131c565b9291505056fea2646970667358221220d1a558f36196bbae5cf55523400bdf135fe3fc61180bee22ee9a12638cd03fd264736f6c63430008120033")
    await tx.wait(); // Wait for the transaction to be mined

    console.log("Rating contract registered successfully.");
}

main()
    .then(() => process.exit(0))
    .catch((error) => {
        console.error(error);
        process.exit(1);
    });
